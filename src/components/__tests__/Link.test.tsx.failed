import React from 'react';
import {cleanup, render} from '@testing-library/react';
import {mocked} from 'jest-mock';

import type { NavRoute } from '../Nav';
import Link from '../Link';

jest.mock('next/router');

import * as Next from 'next/router';

const {useRouter} = mocked(Next)

describe('Link component', () => {
  let nextRouter: Partial<Next.NextRouter>;

  beforeEach(() => {
    nextRouter = {
      pathname: '/path',
    };

    useRouter.mockReturnValue(nextRouter as Next.NextRouter);
  });

  afterEach(cleanup);
  
  it('should render a Link', () => {
    const component = render(<Link href="#" />);

    expect(component).not.toBeNull();
  });
});
